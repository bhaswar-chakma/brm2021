install.packages("linguisticsdown")
include_graphics2(images/intror.png, alt_path = af-ucp.courses/introR)
linguisticsdown::include_graphics2(images/intror.png, alt_path = af-ucp.courses/introR)
linguisticsdown::include_graphics2("images/intror.png", alt_path = af-ucp.courses/introR)
linguisticsdown::include_graphics2(c("images/intror.png", alt_path = af-ucp.courses/introR), ("images/intror.png", alt_path = af-ucp.courses/introR))
linguisticsdown::include_graphics2(c("images/intror.png", alt_path = af-ucp.courses/introR, "images/intror.png", alt_path = af-ucp.courses/introR))
knitr::include_graphics(c("images/intror.png","images/moodle.png"))
linguisticsdown::include_graphics2(c("images/intror.png","images/moodle.png"))
linguisticsdown::include_graphics2(c("images/intror.png","images/moodle.png"),  alt_path = c("https://af-ucp.courses/introR/", "https://moodle.lisboa.ucp.pt/login/index.php"))
knitr::opts_chunk$set(echo = TRUE)
getwd()
setwd("C:/Users/bhasw.DESKTOP-2GB12KN/Desktop")
getwd()
setwd("C:/Users/bhasw.DESKTOP-2GB12KN/Desktop")
getwd()
a = 2
library(tidyverse)
read_excel("data/mcap20210221.xlsx", sheet = "global100b")
library(readxl)
read_excel("data/mcap20210221.xlsx", sheet = "global100b")
read_excel("data/w4/mcap20210221.xlsx", sheet = "global100b") # i put my data in the subfolder w4
df_global <- read_excel("data/mcap20210221.xlsx", sheet = "global100b")
df_global <- read_excel("data/w4/mcap20210221.xlsx", sheet = "global100b")
######################
# Check column names
######################
colnames(df_global)
names(df_global)
#############################
# Number of Columns and Rows
#############################
nrow(df_global)
ncol(df_global)
############
# Structure
###########
str(df_global)
glimpse(df_global)
class(df_global)
#########
# Rename
########
names(df_global)
# We can use column position or name
rename(df_global, code = 1)
rename(df_global, mcap = "Company Market Cap")
# Does anything get stored?
# Nothing gets stored; you just see output
df_global2 <- rename(df_global, mcap = 3)# now check!
###############################
# Many variables to be renamed?
###############################
# Pipe operator: %>%
# Windows: ctrl + shift + m
# Mac: cmd + shift + m
names(df_global)# Let's check the names again
df_global %>%
rename(code = 1,
cname = "Company Common Name",
mcap = "Company Market Cap",
country = "Country of Headquarters",
industry = "TRBC Industry Name")
# store it as df_global
df_global <- df_global %>%
rename(code = 1,
cname = "Company Common Name",
mcap = "Company Market Cap",
country = "Country of Headquarters",
industry = "TRBC Industry Name")
# remove df_global2
rm(df_global2)
######################
# How many industries?
######################
table(df_global$industry)
table(df_global$industry, df_global$country)
#################################################################
# Get data for only Pharmaceuticals; Lowest & Largest Market Cap
#################################################################
df_global %>%
filter(industry == "Pharmaceuticals")
# Lowest Market Cap; use arrange()
df_global %>%
filter(industry == "Pharmaceuticals") %>%
arrange(mcap)
# Largest
df_global %>%
filter(industry == "Pharmaceuticals") %>%
arrange(- mcap) # or arrange(desc(mcap))
##############################
# keep only required variables
##############################
# suppose we only need cname and mcap
df_global %>%
select(cname, mcap)
#################
#     Stats
################
mean(df_global$mcap)
median(df_global$mcap)
min(df_global$mcap)
max(df_global$mcap)
summary(df_global$mcap)
summary(df_global)# whole data frame
knitr::opts_chunk$set(echo = TRUE)
table(df_global$industry)
df_global %>%
filter(industry == "Banks")
df_global %>%
filter(industry == "Banks") -> df_banks
df_global %>%
filter(industry == "Banks") -> df_banks
table(df_banks$country)
read_excel("data/w4/mcap20210221.xlsx", sheet = "pt")
df_pt <- read_excel("data/w4/mcap20210221.xlsx", sheet = "pt")
df_pt
table(df_pt$)
df_pt %>%
rename(code = 1,
cname = "Company Common Name",
mcap = "Company Market Cap",
country = "Country of Headquarters",
industry = "TRBC Industry Name")
df_pt %>%
rename(code = 1,
cname = "Company Common Name",
mcap = "Company Market Cap",
country = "Country of Headquarters",
industry = "TRBC Industry Name") -> df_pt
table(df_pt$industry)
table(df_pt$industry)
df_pt %>%
filter(industry == "Leisure & Recreation")
df_pt %>%
filter(industry == "Leisure & Recreation") %>%
arrange(-mcap)
7.95e7/10000000
7.95e7/1000000
